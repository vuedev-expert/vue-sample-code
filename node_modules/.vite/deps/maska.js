import "./chunk-XHWLKIPX.js";

// node_modules/maska/dist/maska.esm.js
function e(e2, t2) {
  var r2 = Object.keys(e2);
  if (Object.getOwnPropertySymbols) {
    var n2 = Object.getOwnPropertySymbols(e2);
    t2 && (n2 = n2.filter(function(t3) {
      return Object.getOwnPropertyDescriptor(e2, t3).enumerable;
    })), r2.push.apply(r2, n2);
  }
  return r2;
}
function t(t2) {
  for (var r2 = 1; r2 < arguments.length; r2++) {
    var n2 = null != arguments[r2] ? arguments[r2] : {};
    r2 % 2 ? e(Object(n2), true).forEach(function(e2) {
      a(t2, e2, n2[e2]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t2, Object.getOwnPropertyDescriptors(n2)) : e(Object(n2)).forEach(function(e2) {
      Object.defineProperty(t2, e2, Object.getOwnPropertyDescriptor(n2, e2));
    });
  }
  return t2;
}
function r(e2, t2) {
  if (!(e2 instanceof t2))
    throw new TypeError("Cannot call a class as a function");
}
function n(e2, t2) {
  for (var r2 = 0; r2 < t2.length; r2++) {
    var n2 = t2[r2];
    n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e2, o(n2.key), n2);
  }
}
function a(e2, t2, r2) {
  return (t2 = o(t2)) in e2 ? Object.defineProperty(e2, t2, { value: r2, enumerable: true, configurable: true, writable: true }) : e2[t2] = r2, e2;
}
function o(e2) {
  var t2 = function(e3, t3) {
    if ("object" != typeof e3 || null === e3)
      return e3;
    var r2 = e3[Symbol.toPrimitive];
    if (void 0 !== r2) {
      var n2 = r2.call(e3, t3 || "default");
      if ("object" != typeof n2)
        return n2;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return ("string" === t3 ? String : Number)(e3);
  }(e2, "string");
  return "symbol" == typeof t2 ? t2 : String(t2);
}
var i = { "#": { pattern: /[0-9]/ }, X: { pattern: /[0-9a-zA-Z]/ }, S: { pattern: /[a-zA-Z]/ }, A: { pattern: /[a-zA-Z]/, uppercase: true }, a: { pattern: /[a-zA-Z]/, lowercase: true }, "!": { escape: true }, "*": { repeat: true } };
function s(e2, t2) {
  var r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : i, n2 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
  return u(t2).length > 1 ? p(t2)(e2, t2, r2, n2) : l(e2, t2, r2, n2);
}
function u(e2) {
  try {
    return JSON.parse(e2);
  } catch (t2) {
    return [e2];
  }
}
function p(e2) {
  var t2 = u(e2).sort(function(e3, t3) {
    return e3.length - t3.length;
  });
  return function(e3, n2, a2) {
    var o2 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3], i2 = t2.map(function(t3) {
      return l(e3, t3, a2, false);
    }), s2 = i2.pop();
    for (var u2 in t2)
      if (r2(s2, t2[u2], a2))
        return l(e3, t2[u2], a2, o2);
    return "";
  };
  function r2(e3, t3, r3) {
    for (var n2 in r3)
      r3[n2].escape && (t3 = t3.replace(new RegExp(n2 + ".{1}", "g"), ""));
    return t3.split("").filter(function(e4) {
      return r3[e4] && r3[e4].pattern;
    }).length >= e3.length;
  }
}
function l(e2, t2, r2) {
  for (var n2 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3], a2 = 0, o2 = 0, i2 = "", s2 = ""; a2 < t2.length && o2 < e2.length; ) {
    var u2 = t2[a2], p2 = e2[o2], l2 = r2[u2];
    if (l2 && l2.pattern)
      l2.pattern.test(p2) && (i2 += c(p2, l2), a2++, n2 && t2[a2] && (r2[t2[a2]] ? r2[t2[a2]] && r2[t2[a2]].escape && (i2 += t2[a2 + 1], a2 += 2) : (i2 += t2[a2], a2++))), o2++;
    else if (l2 && l2.repeat) {
      var f2 = r2[t2[a2 - 1]];
      f2 && !f2.pattern.test(p2) ? a2++ : a2--;
    } else
      l2 && l2.escape && (u2 = t2[++a2]), n2 && (i2 += u2), p2 === u2 && o2++, a2++;
  }
  for (; n2 && a2 < t2.length; ) {
    var v2 = t2[a2];
    if (r2[v2]) {
      s2 = "";
      break;
    }
    s2 += v2, a2++;
  }
  return i2 + s2;
}
function c(e2, t2) {
  return t2.transform && (e2 = t2.transform(e2)), t2.uppercase ? e2.toLocaleUpperCase() : t2.lowercase ? e2.toLocaleLowerCase() : e2;
}
function f(e2) {
  return e2 instanceof HTMLInputElement ? e2 : e2.querySelector("input") || e2;
}
function v(e2) {
  return "[object String]" === Object.prototype.toString.call(e2);
}
var d = function() {
  function e2(n2) {
    var a3 = this, o3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
    if (r(this, e2), !n2)
      throw new Error("Maska: no element for mask");
    if (null != o3.preprocessor && "function" != typeof o3.preprocessor)
      throw new Error("Maska: preprocessor must be a function");
    if (o3.tokens)
      for (var s2 in o3.tokens)
        o3.tokens[s2] = t({}, o3.tokens[s2]), o3.tokens[s2].pattern && v(o3.tokens[s2].pattern) && (o3.tokens[s2].pattern = new RegExp(o3.tokens[s2].pattern));
    this._opts = { mask: o3.mask, tokens: t(t({}, i), o3.tokens), preprocessor: o3.preprocessor }, this._el = v(n2) ? document.querySelectorAll(n2) : n2.length ? n2 : [n2], this.inputEvent = function(e3) {
      return a3.updateValue(e3.target, e3);
    }, this.init();
  }
  var a2, o2, u2;
  return a2 = e2, o2 = [{ key: "init", value: function() {
    for (var e3 = this, t2 = function(t3) {
      var r3 = f(e3._el[t3]);
      !e3._opts.mask || r3.dataset.mask && r3.dataset.mask === e3._opts.mask || (r3.dataset.mask = e3._opts.mask), setTimeout(function() {
        return e3.updateValue(r3);
      }, 0), r3.dataset.maskInited || (r3.dataset.maskInited = true, r3.addEventListener("input", e3.inputEvent), r3.addEventListener("beforeinput", e3.beforeInput));
    }, r2 = 0; r2 < this._el.length; r2++)
      t2(r2);
  } }, { key: "destroy", value: function() {
    for (var e3 = 0; e3 < this._el.length; e3++) {
      var t2 = f(this._el[e3]);
      t2.removeEventListener("input", this.inputEvent), t2.removeEventListener("beforeinput", this.beforeInput), delete t2.dataset.mask, delete t2.dataset.maskInited;
    }
  } }, { key: "updateValue", value: function(e3, t2) {
    if (e3 && e3.type) {
      var r2 = e3.type.match(/^number$/i) && e3.validity.badInput;
      if (!e3.value && !r2 || !e3.dataset.mask)
        return e3.dataset.maskRawValue = "", void this.dispatch("maska", e3, t2);
      var n2 = e3.selectionEnd, a3 = e3.value, o3 = a3[n2 - 1];
      e3.dataset.maskRawValue = s(e3.value, e3.dataset.mask, this._opts.tokens, false);
      var i2 = e3.value;
      this._opts.preprocessor && (i2 = this._opts.preprocessor(i2)), e3.value = s(i2, e3.dataset.mask, this._opts.tokens), t2 && "insertText" === t2.inputType && n2 === a3.length && (n2 = e3.value.length), function(e4, t3, r3) {
        for (; t3 && t3 < e4.value.length && e4.value.charAt(t3 - 1) !== r3; )
          t3++;
        (e4.type ? e4.type.match(/^(text|search|password|tel|url)$/i) : !e4.type) && e4 === document.activeElement && (e4.setSelectionRange(t3, t3), setTimeout(function() {
          e4.setSelectionRange(t3, t3);
        }, 0));
      }(e3, n2, o3), this.dispatch("maska", e3, t2), e3.value !== a3 && this.dispatch("input", e3, t2);
    }
  } }, { key: "beforeInput", value: function(e3) {
    e3 && e3.target && e3.target.type && e3.target.type.match(/^number$/i) && e3.data && isNaN(e3.target.value + e3.data) && e3.preventDefault();
  } }, { key: "dispatch", value: function(e3, t2, r2) {
    t2.dispatchEvent(function(e4) {
      var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, r3 = document.createEvent("Event");
      return r3.initEvent(e4, true, true), t3 && (r3.inputType = t3), r3;
    }(e3, r2 && r2.inputType || null));
  } }], o2 && n(a2.prototype, o2), u2 && n(a2, u2), Object.defineProperty(a2, "prototype", { writable: false }), e2;
}();
var m;
var h = (m = /* @__PURE__ */ new WeakMap(), function(e2, r2) {
  r2.value && (m.has(e2) && !function(e3) {
    return !(v(e3.value) && e3.value === e3.oldValue || Array.isArray(e3.value) && JSON.stringify(e3.value) === JSON.stringify(e3.oldValue) || e3.value && e3.value.mask && e3.oldValue && e3.oldValue.mask && e3.value.mask === e3.oldValue.mask);
  }(r2) || m.set(e2, new d(e2, function(e3) {
    var r3 = {};
    return e3.mask ? (r3.mask = Array.isArray(e3.mask) ? JSON.stringify(e3.mask) : e3.mask, r3.tokens = e3.tokens ? t({}, e3.tokens) : {}, r3.preprocessor = e3.preprocessor) : r3.mask = Array.isArray(e3) ? JSON.stringify(e3) : e3, r3;
  }(r2.value))));
});
function k(e2) {
  e2.directive("maska", h);
}
function y(e2, t2) {
  return new d(e2, t2);
}
"undefined" != typeof window && window.Vue && window.Vue.use && window.Vue.use(k);

// dep:maska
var maska_default = k;
export {
  y as create,
  maska_default as default,
  k as install,
  s as mask,
  h as maska,
  i as tokens
};
/*!
 * maska v1.5.2
 * (c) 2019-2022 Alexander Shabunevich
 * Released under the MIT License.
 */
//# sourceMappingURL=maska.js.map
